window.addEventListener('load', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const reportData = urlParams.get('data');
    
    if (reportData) {
        document.getElementById('loadingState').style.display = 'none';
        document.getElementById('reportContent').innerHTML = decodeURIComponent(reportData);
        document.getElementById('reportContent').style.display = 'block';
    } else {
        document.getElementById('loadingState').style.display = 'none';
        document.getElementById('errorState').style.display = 'block';
    }
});
